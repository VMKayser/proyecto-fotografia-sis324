============================================
RESUMEN DE CORRECCIONES NECESARIAS
Proyecto: Sistema de Fotograf\u00eda
============================================

 ESTADO ACTUAL DE LOS PROBLEMAS:

1.  QR NO SE GUARDA EN LA BASE DE DATOS
   STATUS: YA FUNCIONA CORRECTAMENTE
   - Los campos qrPagoUrl y qrInstrucciones est\u00e1n en el schema
   - Los endpoints POST/PUT /api/profiles los guardan
   - El servicio profileService.ts los maneja
   VERIFICACI\u00d3N: Revisar que al actualizar el perfil se env\u00eden estos campos

2.  NO HAY INTERFAZ PARA SOLICITAR VERIFICACI\u00d3N
   STATUS: C\u00d3DIGO COMENTADO
   SOLUCI\u00d3N REQUERIDA:
   
   A) Descomentar en src\app\perfil-fotografo\page.tsx:
      - L\u00ednea 83: const [documentFile, setDocumentFile] = useState<File | null>(null);
      - L\u00ednea 84: const [uploadingDocument, setUploadingDocument] = useState(false);
      - L\u00ednea 240: handleDocumentFileChange
      - L\u00edneas 244-278: handleUploadDocument (funci\u00f3n completa)
   
   B) Agregar UI de verificaci\u00f3n (insertar despu\u00e9s de la secci\u00f3n de Categor\u00edas):
      `	sx
      <Card padding="lg" className="space-y-6">
        <div>
          <p className="text-sm font-semibold text-blue-600">Verificaci\u00f3n de identidad</p>
          <h2 className="text-2xl font-semibold text-slate-900 mt-1">Solicita verificaci\u00f3n oficial</h2>
        </div>
        {profile?.verificado ? (
          <div>Perfil Verificado</div>
        ) : formData.urlDocumentoIdentidad ? (
          <div>En revisi\u00f3n</div>
        ) : (
          <input type="file" onChange={handleDocumentFileChange} />
          <Button onClick={handleUploadDocument}>Enviar</Button>
        )}
      </Card>
      `

   C) Asegurar que urlDocumentoIdentidad se env\u00ede al actualizar:
      - Verificar que est\u00e9 en el body de handleSubmit
      - Ya est\u00e1 en formData

3.  BOT\u00d3N DE PAGO DESTACADO
   STATUS: YA FUNCIONA
   - Endpoint /api/profiles/destacado-request existe
   - Tabla SolicitudDestacado en schema
   - Admin puede revisar en /admin/solicitudes-destacado
   - Bot\u00f3n en destacar-perfil/page.tsx conectado

4.  FLUJO DE RESERVAS CON PAQUETES
   STATUS: MEJORA NECESARIA
   CAMBIOS EN src\app\fotografos\page.tsx:
   - Cambiar "Solicitar disponibilidad" por "Reservar paquete" si hay paquete
   - El flujo actual funciona pero el texto es confuso
   
   CAMBIOS EN src\app\mis-reservas\page.tsx:
   - Ya auto-completa el monto cuando se selecciona paquete (l\u00ednea 300-304)
   - Ya funciona correctamente

5.  FECHAS DOBLES / VALIDACI\u00d3N DE DISPONIBILIDAD
   STATUS: NO IMPLEMENTADO
   SOLUCI\u00d3N REQUERIDA:
   
   A) Crear endpoint GET /api/availability/[fotografoId]:
      `	ypescript
      // Retornar fechas ocupadas del fot\u00f3grafo
      const ocupadas = await prisma.reserva.findMany({
        where: {
          fotografoId: params.id,
          estado: { in: ['PENDIENTE', 'CONFIRMADA'] }
        },
        select: { fechaEvento: true }
      });
      `
   
   B) Modificar src\app\mis-reservas\page.tsx:
      - Cargar fechas ocupadas al seleccionar fot\u00f3grafo
      - Deshabilitar fechas en el input date
      - Mostrar mensaje si fecha ocupada
   
   C) Modificar src\app\dashboard\calendario\page.tsx:
      - Cargar reservas del fot\u00f3grafo al iniciar
      - Marcar fechas ocupadas en el calendario
      - Prevenir agregar bloqueos en fechas con reservas

============================================
PRIORIDAD DE IMPLEMENTACI\u00d3N:
============================================

 ALTA PRIORIDAD:
   1. Habilitar solicitud de verificaci\u00f3n (Problema 2)
   2. Validaci\u00f3n de fechas dobles (Problema 5)

 MEDIA PRIORIDAD:
   3. Mejorar texto del bot\u00f3n de reservas (Problema 4)

 VERIFICACI\u00d3N:
   - Confirmar que el QR se guarda (Problema 1)
   - Confirmar que el pago destacado funciona (Problema 3)

============================================
ARCHIVOS QUE NECESITAN MODIFICACI\u00d3N:
============================================

1. src\app\perfil-fotografo\page.tsx
   - Descomentar c\u00f3digo de documento
   - Agregar secci\u00f3n UI de verificaci\u00f3n

2. src\app\api\availability\[fotografoId]\route.ts (CREAR NUEVO)
   - Endpoint para obtener fechas ocupadas

3. src\app\mis-reservas\page.tsx
   - Agregar validaci\u00f3n de fechas ocupadas
   - Implementar carga de disponibilidad

4. src\app\dashboard\calendario\page.tsx
   - Marcar fechas ocupadas en el calendario
   - Prevenir doble reserva

5. src\app\fotografos\page.tsx
   - Cambiar texto del bot\u00f3n (opcional)

============================================
